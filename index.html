<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="css/owl.carousel.css" />
    <link rel="stylesheet" type="text/css" href="css/animate.css" />
    <link rel="stylesheet" type="text/css" href="css/dataTables.bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/dataTables.responsive.css">
    <link rel="stylesheet" type="text/css" href="css/style.css?ver=1.0.2" />
    <link rel="stylesheet" type="text/css" href="css/responsive.css?ver=1.0.10" />
    <link rel="icon" href="images/favicon.png" type="image/gif" sizes="16x16">
    <title>Home - Troniverse</title>
</head>
<body class="main-page">
    
    <!-- Chat Box -->
    <button class="btn-side" onclick="openNav()"><i class="fa fa-angle-double-up" aria-hidden="true"></i> Side Panel</button>
    <div class="sidenav-wrapper sidenav main-chat" id="chat-side">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <div class="sidenav-block">
            <a href="index.html" class="sidenav-logo">
                <img src="images/logo.png" alt="logo">
            </a>
            <div class="sidenav-list">
                <ul>
                    <li class="active">
                        <a href="#">
                            <img src="images/side-icons/ic-01.png" alt="icons" class="list-ic">
                            <img src="images/side-icons/ic-01-light.png" alt="icons" class="list-ic-hover">
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <img src="images/side-icons/ic-02.png" alt="icons" class="list-ic">
                            <img src="images/side-icons/ic-02-light.png" alt="icons" class="list-ic-hover">
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <img src="images/side-icons/ic-03.png" alt="icons" class="list-ic">
                            <img src="images/side-icons/ic-03-light.png" alt="icons" class="list-ic-hover">
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <img src="images/side-icons/ic-04.png" alt="icons" class="list-ic">
                            <img src="images/side-icons/ic-04-light.png" alt="icons" class="list-ic-hover">
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <img src="images/side-icons/ic-05.png" alt="icons" class="list-ic">
                            <img src="images/side-icons/ic-05-light.png" alt="icons" class="list-ic-hover">
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <img src="images/side-icons/ic-06.png" alt="icons" class="list-ic">
                            <img src="images/side-icons/ic-06-light.png" alt="icons" class="list-ic-hover">
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <img src="images/side-icons/ic-07.png" alt="icons" class="list-ic">
                            <img src="images/side-icons/ic-07-light.png" alt="icons" class="list-ic-hover">
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- End Chat Box -->

    <div class="main">
        <!-- Top -->
        <section class="top-container">
            <div class="top-wrapper">
                <div class="top-paly-lsit">
                    <ul>
                        <li>
                            <a href="#">
                                <span>
                                    <img src="images/icons/joystick.png" alt="icons" class="tp-icon">
                                    <img src="images/icons/joystick-light.png" alt="icons" class="tp-icon-hover">
                                </span>
                                Games
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <span>
                                    <img src="images/icons/book.png" alt="icons" class="tp-icon">
                                    <img src="images/icons/book-light.png" alt="icons" class="tp-icon-hover">
                                </span>
                                How To Play
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <span>
                                    <img src="images/icons/mine-icon.png" alt="icons" class="tp-icon">
                                    <img src="images/icons/mine-light.png" alt="icons" class="tp-icon-hover">
                                </span>
                                Dividends
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="top-side-blk">
                    <div class="top-notification">
                        <a href="#">
                            <img src="images/icons/notification.png" alt="icon">
                            You just received 500 EXP.
                            <span class="dot-icon"></span>
                        </a>
                    </div>
                    <div class="top-social">
                        <ul>
                            <li>
                                <a href="#">
                                    <img src="images/icons/telegram-light.png" alt="icon" class="nr-icon">
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <img src="images/icons/zok-light.png" alt="icon" class="nr-icon">
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div class="top-detail">
                        <ul>
                            <li>
                                <span>EXP Balance</span>
                                <p>100,000 <small>EXP</small></p>
                            </li>
                            <li>
                                <span>Balance</span>
                                <p>100,000 <small>TRX</small></p>
                                <a href="#" class="plus-bal">
                                    <img src="images/icons/plus-light.png" alt="icon" class="nr-icon">
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div class="top-user">
                        <div class="dropdown">
                          <button class="btn dropdown-toggle" type="button" data-toggle="dropdown">
                                <img src="images/icons/user-icon.png" alt="icon">
                          </button>
                          <ul class="dropdown-menu">
                            <li><a href="#">ETC</a></li>
                            <li><a href="#">ETC</a></li>
                            <li><a href="#">ETC</a></li>
                          </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- End Top -->

        <!-- Main Wrapper -->
        <section class="main-wrapper">
            <div class="main-block-cl">
                <div class="tab-ind-wrapper">
                    <ul class="nav nav-tabs">
                        <li class="active"><a data-toggle="tab" href="#list-one">last winners</a></li>
                        <li><a data-toggle="tab" href="#list-two">Leaderboard</a></li>
                    </ul>

                    <div class="tab-content">
                        <div id="list-one" class="tab-pane fade in active">
                            <div class="tab-block-wrapper">
                                <div class="tab-table">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Tronie</th>
                                                <th>Game</th>
                                                <th>Win</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <p>
                                                        <img src="images/user-tb-01.png" alt="img" class="user-icon"> tronie
                                                    </p>
                                                </td>
                                                <td><p><img src="images/side-icons/ic-01.png" alt="icon" class="tb-icon"></p></td>
                                                <td><a href="#" class="btn-tb">+ 100K TRX</a></td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>
                                                        <img src="images/user-tb-01.png" alt="img" class="user-icon"> tronie
                                                    </p>
                                                </td>
                                                <td><p><img src="images/side-icons/ic-01.png" alt="icon" class="tb-icon"></p></td>
                                                <td><a href="#" class="btn-tb">+ 10K TRX</a></td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>
                                                        <img src="images/user-tb-01.png" alt="img" class="user-icon"> tronie
                                                    </p>
                                                </td>
                                                <td><p><img src="images/side-icons/ic-01.png" alt="icon" class="tb-icon"></p></td>
                                                <td><a href="#" class="btn-tb">+ 1m TRX</a></td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>
                                                        <img src="images/user-tb-01.png" alt="img" class="user-icon"> tronie
                                                    </p>
                                                </td>
                                                <td><p><img src="images/side-icons/ic-01.png" alt="icon" class="tb-icon"></p></td>
                                                <td><a href="#" class="btn-tb">+ 100 TRX</a></td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>
                                                        <img src="images/user-tb-01.png" alt="img" class="user-icon"> tronie
                                                    </p>
                                                </td>
                                                <td><p><img src="images/side-icons/ic-01.png" alt="icon" class="tb-icon"></p></td>
                                                <td><a href="#" class="btn-tb">+ 50K TRX</a></td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>
                                                        <img src="images/user-tb-01.png" alt="img" class="user-icon"> tronie
                                                    </p>
                                                </td>
                                                <td><p><img src="images/side-icons/ic-01.png" alt="icon" class="tb-icon"></p></td>
                                                <td><a href="#" class="btn-tb">+ 100k TRX</a></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div id="list-two" class="tab-pane fade">
                            <div class="tab-block-wrapper">
                                <div class="tab-table tab-table-two">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Tronie</th>
                                                <th>Game</th>
                                                <th>Win</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <p>
                                                        <img src="images/user-tb-01.png" alt="img" class="user-icon"> tronie
                                                    </p>
                                                </td>
                                                <td><p><img src="images/side-icons/ic-01.png" alt="icon" class="tb-icon"></p></td>
                                                <td><a href="#" class="btn-tb">+ 100K TRX</a></td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>
                                                        <img src="images/user-tb-01.png" alt="img" class="user-icon"> tronie
                                                    </p>
                                                </td>
                                                <td><p><img src="images/side-icons/ic-01.png" alt="icon" class="tb-icon"></p></td>
                                                <td><a href="#" class="btn-tb">+ 10K TRX</a></td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>
                                                        <img src="images/user-tb-01.png" alt="img" class="user-icon"> tronie
                                                    </p>
                                                </td>
                                                <td><p><img src="images/side-icons/ic-01.png" alt="icon" class="tb-icon"></p></td>
                                                <td><a href="#" class="btn-tb">+ 1m TRX</a></td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>
                                                        <img src="images/user-tb-01.png" alt="img" class="user-icon"> tronie
                                                    </p>
                                                </td>
                                                <td><p><img src="images/side-icons/ic-01.png" alt="icon" class="tb-icon"></p></td>
                                                <td><a href="#" class="btn-tb">+ 100 TRX</a></td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>
                                                        <img src="images/user-tb-01.png" alt="img" class="user-icon"> tronie
                                                    </p>
                                                </td>
                                                <td><p><img src="images/side-icons/ic-01.png" alt="icon" class="tb-icon"></p></td>
                                                <td><a href="#" class="btn-tb">+ 50K TRX</a></td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>
                                                        <img src="images/user-tb-01.png" alt="img" class="user-icon"> tronie
                                                    </p>
                                                </td>
                                                <td><p><img src="images/side-icons/ic-01.png" alt="icon" class="tb-icon"></p></td>
                                                <td><a href="#" class="btn-tb">+ 100k TRX</a></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="img-ind-wrapper">
                    <div class="img-ind-wrapper-inner">
             <!--          <div class="heading">
                        <h1 class="title">2048
                       </h1>
                        <div class="score-container">0</div>
                      </div> -->
  

                      <div class="game-container">
                        <div class="game-message">
                          <p></p>
                          <div class="lower">
                            <a class="retry-button">Try again</a>
                          </div>
                        </div>

                       <!--  <div class="grid-container">
                          <div class="grid-row">
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                          </div>
                          <div class="grid-row">
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                          </div>
                          <div class="grid-row">
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                          </div>
                          <div class="grid-row">
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                          </div>
                        </div> -->
                        <div class="tetri-container">
                            <iframe src="tetris/index.html" width="100%" height="500" style="border:0">
</iframe>

                        </div>
                        <div class="gridControls">
                            <div class="gridControlsInnerTop">
                                <div class="gridControlsInnerLeft">Level 13</div>
                                 <div class="gridControlsInnerCenter">GAME OVER IN <div class="gridControlTimer">
                                    <div id='countDown'></div>
                                 </div></div>
                                <div class="gridControlsInnerRight">Goal 512</div>
                            </div>
                            <div class="gridControlsInnerBottom">
                                <div class="gridControlsInnerLeft">Tutorial</div>
                                 <div class="gridControlsInnerCenter"><div class="gridControlTimer">PLAY 200 TRX</div></div>
                                <div class="gridControlsInnerRight">Back</div>
                            </div>
                        </div>
                       <!--  <div class="tile-container">

                        </div> -->
                      </div>
                  </div>

 
                </div>
                <div class="chat-ind-wrapper">
                    <div class="chat-block">
                        <div class="chat-head">
                            <h4>Chat</h4>
                            <p class="act-num">
                                <span class="dot-icon"></span> 100
                            </p>
                            <div class="act-btn">
                                <a href="#" class="btn-eye">
                                    <img src="images/chat-icons/eye-icon.png" alt="iocn">
                                </a>
                            </div>
                        </div>
                        <div class="chat-message">
                            <div class="chat-left">
                                <div class="chat-user">
                                    <img src="images/user-tb-01.png" alt="img">
                                </div>
                                <div class="chat-msg-blk">
                                    <p class="chat-time">tronie <span>Today, 21:35 CET</span></p>
                                    <div class="chat-msg">
                                        <p>Hello everybody, this is tronie! I am new to this platform, but it’s seems to be the best I’ve seen so far.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="chat-left">
                                <div class="chat-user">
                                    <img src="images/user-tb-01.png" alt="img">
                                </div>
                                <div class="chat-msg-blk">
                                    <p class="chat-time">tronie <span>Today, 21:35 CET</span></p>
                                    <div class="chat-msg">
                                        <p>Hey <strong>@tronie</strong> nice to meet you and welcome to tronieverse! <img src="images/chat-icons/thumbs-up.png" alt="icon" class="ct-txt-img"></p>
                                    </div>
                                    <div class="ct-ic-list">
                                        <ul>
                                            <li><a href="#"><img src="images/chat-icons/chat-smile.png" alt="icon">21</a></li>
                                            <li><a href="#"><img src="images/chat-icons/heart-icon.png" alt="icon">7</a></li>
                                            <li><a href="#"><img src="images/chat-icons/thumbs-up.png" alt="icon">14</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="chat-center">
                                <div class="chat-msg-blk">
                                    <div class="chat-msg">
                                        <p>Oh wow! <strong>@tronie</strong> just won 100k TRX at <strong>Ladder</strong></p>
                                    </div>
                                    <div class="ct-ic-list">
                                        <ul>
                                            <li><a href="#">play</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="chat-left">
                                <div class="chat-user">
                                    <img src="images/user-tb-01.png" alt="img">
                                </div>
                                <div class="chat-msg-blk">
                                    <p class="chat-time">tronie <span>Today, 21:35 CET</span></p>
                                    <div class="chat-msg">
                                        <p>Hello everybody, this is tronie! I am new to this platform, but it’s seems to be the best I’ve seen so far.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="chat-left">
                                <div class="chat-user">
                                    <img src="images/user-tb-01.png" alt="img">
                                </div>
                                <div class="chat-msg-blk">
                                    <p class="chat-time">tronie <span>Today, 21:35 CET</span></p>
                                    <div class="chat-msg">
                                        <p>Hey <strong>@tronie</strong> nice to meet you and welcome to tronieverse! <img src="images/chat-icons/chat-smile.png" alt="icon" class="ct-txt-img"></p>
                                    </div>
                                    <div class="ct-ic-list">
                                        <ul>
                                            <li><a href="#"><img src="images/chat-icons/chat-smile.png" alt="icon">21</a></li>
                                            <li><a href="#"><img src="images/chat-icons/heart-icon.png" alt="icon">7</a></li>
                                            <li><a href="#"><img src="images/chat-icons/thumbs-up.png" alt="icon">14</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <a href="#" class="ar-down">
                            <img src="images/icons/arrow-down.png" alt="icon"><span class="dot"></span>
                        </a>
                        <div class="chat-text-box">
                            <button class="btn-smile"><img src="images/chat-icons/smile-text.png" alt="icon"></button>
                            <input type="text" class="form-control" placeholder="Type your message..">
                            <button href="#" class="msg-sent"><img src="images/icons/sent-icon.png" alt="icon"></button>
                        </div>
                    </div>
                </div>
                
            </div>
        </section>
        <!-- End Main Wrapper -->
    </div>

    <script type="text/javascript" src="js/jquery.min.js"></script> 
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/owl.carousel.min.js"></script>
    <script type="text/javascript" src="js/wow.min.js"></script>
    <script type="text/javascript" src="js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="js/dataTables.bootstrap.js"></script>
    <script type="text/javascript" src="js/dataTables.responsive.js"></script>
    <script type="text/javascript" src="js/chart.js"></script>
    <script type="text/javascript" src="js/hammer.min.js"></script>
    <script type="text/javascript">
        //wow animation js
        new WOW().init();

        //data table js
        $('.table').DataTable();

        //our chart
        var ctx = document.getElementById("myChart").getContext('2d');
        var myChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ["June 16",   "June 16",   "June 16",  "June 16", "June 16"],
                datasets: [{
                    label: 'Series 1', // Name the series
                    data: [1000, 35000, 23000, 140000,  200000], // Specify the data values array
                    fill: false,
                    borderColor: '#FFE787', // Add custom color border (Line)
                    backgroundColor: '#FFE787', // Add custom color background (Points and Fill)
                    borderWidth: 1 // Specify bar border width
                }]},
            options: {
              responsive: true, // Instruct chart js to respond nicely.
              maintainAspectRatio: false, // Add to prevent default behaviour of full-width/height 
            }
        });

        //sidenav
        function openNav() {
          document.getElementById("chat-side").style.width = "130px";
        }

        function closeNav() {
          document.getElementById("chat-side").style.width = "0";
        }
    </script>



    <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", function () {
  // Wait till the browser is ready to render the game (avoids glitches)
  window.requestAnimationFrame(function () {
    var manager = new GameManager(4, KeyboardInputManager, HTMLActuator);
  });
});

function GameManager(size, InputManager, Actuator) {
  this.size = size; // Size of the grid
  this.inputManager = new InputManager();
  this.actuator = new Actuator();

  this.startTiles = 2;

  this.inputManager.on("move", this.move.bind(this));
  this.inputManager.on("restart", this.restart.bind(this));

  this.setup();
}

// Restart the game
GameManager.prototype.restart = function () {
  this.actuator.restart();
  this.setup();
};

// Set up the game
GameManager.prototype.setup = function () {
  this.grid = new Grid(this.size);

  this.score = 0;
  this.over = false;
  this.won = false;

  // Add the initial tiles
  this.addStartTiles();

  // Update the actuator
  this.actuate();
};

// Set up the initial tiles to start the game with
GameManager.prototype.addStartTiles = function () {
  for (var i = 0; i < this.startTiles; i++) {
    this.addRandomTile();
  }
};

// Adds a tile in a random position
GameManager.prototype.addRandomTile = function () {
  if (this.grid.cellsAvailable()) {
    var value = Math.random() < 0.9 ? 2 : 4;
    var tile = new Tile(this.grid.randomAvailableCell(), value);

    this.grid.insertTile(tile);
  }
};

// Sends the updated grid to the actuator
GameManager.prototype.actuate = function () {
  this.actuator.actuate(this.grid, {
    score: this.score,
    over: this.over,
    won: this.won
  });
};

// Save all tile positions and remove merger info
GameManager.prototype.prepareTiles = function () {
  this.grid.eachCell(function (x, y, tile) {
    if (tile) {
      tile.mergedFrom = null;
      tile.savePosition();
    }
  });
};

// Move a tile and its representation
GameManager.prototype.moveTile = function (tile, cell) {
  this.grid.cells[tile.x][tile.y] = null;
  this.grid.cells[cell.x][cell.y] = tile;
  tile.updatePosition(cell);
};

// Move tiles on the grid in the specified direction
GameManager.prototype.move = function (direction) {
  // 0: up, 1: right, 2:down, 3: left
  var self = this;

  if (this.over || this.won) return; // Don't do anything if the game's over

  var cell, tile;

  var vector = this.getVector(direction);
  var traversals = this.buildTraversals(vector);
  var moved = false;

  // Save the current tile positions and remove merger information
  this.prepareTiles();

  // Traverse the grid in the right direction and move tiles
  traversals.x.forEach(function (x) {
    traversals.y.forEach(function (y) {
      cell = { x: x, y: y };
      tile = self.grid.cellContent(cell);

      if (tile) {
        var positions = self.findFarthestPosition(cell, vector);
        var next = self.grid.cellContent(positions.next);

        // Only one merger per row traversal?
        if (next && next.value === tile.value && !next.mergedFrom) {
          var merged = new Tile(positions.next, tile.value * 2);
          merged.mergedFrom = [tile, next];

          self.grid.insertTile(merged);
          self.grid.removeTile(tile);

          // Converge the two tiles' positions
          tile.updatePosition(positions.next);

          // Update the score
          self.score += merged.value;

          // The mighty 2048 tile
          if (merged.value === 2048) self.won = true;
        } else {
          self.moveTile(tile, positions.farthest);
        }

        if (!self.positionsEqual(cell, tile)) {
          moved = true; // The tile moved from its original cell!
        }
      }
    });
  });

  if (moved) {
    this.addRandomTile();

    if (!this.movesAvailable()) {
      this.over = true; // Game over!
    }

    this.actuate();
  }
};

// Get the vector representing the chosen direction
GameManager.prototype.getVector = function (direction) {
  // Vectors representing tile movement
  var map = {
    0: { x: 0, y: -1 }, // up
    1: { x: 1, y: 0 }, // right
    2: { x: 0, y: 1 }, // down
    3: { x: -1, y: 0 } // left
  };

  return map[direction];
};

// Build a list of positions to traverse in the right order
GameManager.prototype.buildTraversals = function (vector) {
  var traversals = { x: [], y: [] };

  for (var pos = 0; pos < this.size; pos++) {
    traversals.x.push(pos);
    traversals.y.push(pos);
  }

  // Always traverse from the farthest cell in the chosen direction
  if (vector.x === 1) traversals.x = traversals.x.reverse();
  if (vector.y === 1) traversals.y = traversals.y.reverse();

  return traversals;
};

GameManager.prototype.findFarthestPosition = function (cell, vector) {
  var previous;

  // Progress towards the vector direction until an obstacle is found
  do {
    previous = cell;
    cell = { x: previous.x + vector.x, y: previous.y + vector.y };
  } while (this.grid.withinBounds(cell) && this.grid.cellAvailable(cell));

  return {
    farthest: previous,
    next: cell // Used to check if a merge is required
  };
};

GameManager.prototype.movesAvailable = function () {
  return this.grid.cellsAvailable() || this.tileMatchesAvailable();
};

// Check for available matches between tiles (more expensive check)
GameManager.prototype.tileMatchesAvailable = function () {
  var self = this;

  var tile;

  for (var x = 0; x < this.size; x++) {
    for (var y = 0; y < this.size; y++) {
      tile = this.grid.cellContent({ x: x, y: y });

      if (tile) {
        for (var direction = 0; direction < 4; direction++) {
          var vector = self.getVector(direction);
          var cell = { x: x + vector.x, y: y + vector.y };

          var other = self.grid.cellContent(cell);
          if (other) {
          }

          if (other && other.value === tile.value) {
            return true; // These two tiles can be merged
          }
        }
      }
    }
  }

  return false;
};

GameManager.prototype.positionsEqual = function (first, second) {
  return first.x === second.x && first.y === second.y;
};

function Grid(size) {
  this.size = size;

  this.cells = [];

  this.build();
}

// Build a grid of the specified size
Grid.prototype.build = function () {
  for (var x = 0; x < this.size; x++) {
    var row = (this.cells[x] = []);

    for (var y = 0; y < this.size; y++) {
      row.push(null);
    }
  }
};

// Find the first available random position
Grid.prototype.randomAvailableCell = function () {
  var cells = this.availableCells();

  if (cells.length) {
    return cells[Math.floor(Math.random() * cells.length)];
  }
};

Grid.prototype.availableCells = function () {
  var cells = [];

  this.eachCell(function (x, y, tile) {
    if (!tile) {
      cells.push({ x: x, y: y });
    }
  });

  return cells;
};

// Call callback for every cell
Grid.prototype.eachCell = function (callback) {
  for (var x = 0; x < this.size; x++) {
    for (var y = 0; y < this.size; y++) {
      callback(x, y, this.cells[x][y]);
    }
  }
};

// Check if there are any cells available
Grid.prototype.cellsAvailable = function () {
  return !!this.availableCells().length;
};

// Check if the specified cell is taken
Grid.prototype.cellAvailable = function (cell) {
  return !this.cellOccupied(cell);
};

Grid.prototype.cellOccupied = function (cell) {
  return !!this.cellContent(cell);
};

Grid.prototype.cellContent = function (cell) {
  if (this.withinBounds(cell)) {
    return this.cells[cell.x][cell.y];
  } else {
    return null;
  }
};

// Inserts a tile at its position
Grid.prototype.insertTile = function (tile) {
  this.cells[tile.x][tile.y] = tile;
};

Grid.prototype.removeTile = function (tile) {
  this.cells[tile.x][tile.y] = null;
};

Grid.prototype.withinBounds = function (position) {
  return (
    position.x >= 0 &&
    position.x < this.size &&
    position.y >= 0 &&
    position.y < this.size
  );
};

function HTMLActuator() {
  this.tileContainer = document.getElementsByClassName("tile-container")[0];
  this.scoreContainer = document.getElementsByClassName("score-container")[0];
  this.messageContainer = document.getElementsByClassName("game-message")[0];

  this.score = 0;
}

HTMLActuator.prototype.actuate = function (grid, metadata) {
  var self = this;

  window.requestAnimationFrame(function () {
    self.clearContainer(self.tileContainer);

    grid.cells.forEach(function (column) {
      column.forEach(function (cell) {
        if (cell) {
          self.addTile(cell);
        }
      });
    });

    self.updateScore(metadata.score);

    if (metadata.over) self.message(false); // You lose
    if (metadata.won) self.message(true); // You win!
  });
};

HTMLActuator.prototype.restart = function () {
  this.clearMessage();
};

HTMLActuator.prototype.clearContainer = function (container) {
  while (container.firstChild) {
    container.removeChild(container.firstChild);
  }
};

HTMLActuator.prototype.addTile = function (tile) {
  var self = this;

  var element = document.createElement("div");
  var position = tile.previousPosition || { x: tile.x, y: tile.y };
  positionClass = this.positionClass(position);

  // We can't use classlist because it somehow glitches when replacing classes
  var classes = ["tile", "tile-" + tile.value, positionClass];
  this.applyClasses(element, classes);

  element.textContent = tile.value;

  if (tile.previousPosition) {
    // Make sure that the tile gets rendered in the previous position first
    window.requestAnimationFrame(function () {
      classes[2] = self.positionClass({ x: tile.x, y: tile.y });
      self.applyClasses(element, classes); // Update the position
    });
  } else if (tile.mergedFrom) {
    classes.push("tile-merged");
    this.applyClasses(element, classes);

    // Render the tiles that merged
    tile.mergedFrom.forEach(function (merged) {
      self.addTile(merged);
    });
  } else {
    classes.push("tile-new");
    this.applyClasses(element, classes);
  }

  // Put the tile on the board
  this.tileContainer.appendChild(element);
};

HTMLActuator.prototype.applyClasses = function (element, classes) {
  element.setAttribute("class", classes.join(" "));
};

HTMLActuator.prototype.normalizePosition = function (position) {
  return { x: position.x + 1, y: position.y + 1 };
};

HTMLActuator.prototype.positionClass = function (position) {
  position = this.normalizePosition(position);
  return "tile-position-" + position.x + "-" + position.y;
};

HTMLActuator.prototype.updateScore = function (score) {
  this.clearContainer(this.scoreContainer);

  var difference = score - this.score;
  this.score = score;

  this.scoreContainer.textContent = this.score;

  if (difference > 0) {
    var addition = document.createElement("div");
    addition.classList.add("score-addition");
    addition.textContent = "+" + difference;

    this.scoreContainer.appendChild(addition);
  }
};

HTMLActuator.prototype.message = function (won) {
  var type = won ? "game-won" : "game-over";
  var message = won ? "You win!" : "Game over!";

  // if (ga) ga("send", "event", "game", "end", type, this.score);

  this.messageContainer.classList.add(type);
  this.messageContainer.getElementsByTagName("p")[0].textContent = message;
};

HTMLActuator.prototype.clearMessage = function () {
  this.messageContainer.classList.remove("game-won", "game-over");
};

function KeyboardInputManager() {
  this.events = {};

  this.listen();
}

KeyboardInputManager.prototype.on = function (event, callback) {
  if (!this.events[event]) {
    this.events[event] = [];
  }
  this.events[event].push(callback);
};

KeyboardInputManager.prototype.emit = function (event, data) {
  var callbacks = this.events[event];
  if (callbacks) {
    callbacks.forEach(function (callback) {
      callback(data);
    });
  }
};

KeyboardInputManager.prototype.listen = function () {
  var self = this;

  var map = {
    38: 0, // Up
    39: 1, // Right
    40: 2, // Down
    37: 3, // Left
    75: 0, // vim keybindings
    76: 1,
    74: 2,
    72: 3
  };

  document.addEventListener("keydown", function (event) {
    var modifiers =
      event.altKey || event.ctrlKey || event.metaKey || event.shiftKey;
    var mapped = map[event.which];

    if (!modifiers) {
      if (mapped !== undefined) {
        event.preventDefault();
        self.emit("move", mapped);
      }

      if (event.which === 32) self.restart.bind(self)(event);
    }
  });

  var retry = document.getElementsByClassName("retry-button")[0];
  retry.addEventListener("click", this.restart.bind(this));

  // Listen to swipe events
  var gestures = [
    Hammer.DIRECTION_UP,
    Hammer.DIRECTION_RIGHT,
    Hammer.DIRECTION_DOWN,
    Hammer.DIRECTION_LEFT
  ];

  var gameContainer = document.getElementsByClassName("game-container")[0];
  var handler = Hammer(gameContainer, {
    drag_block_horizontal: true,
    drag_block_vertical: true
  });

  handler.on("swipe", function (event) {
    event.gesture.preventDefault();
    mapped = gestures.indexOf(event.gesture.direction);

    if (mapped !== -1) self.emit("move", mapped);
  });
};

KeyboardInputManager.prototype.restart = function (event) {
  event.preventDefault();
  this.emit("restart");
};

function Tile(position, value) {
  this.x = position.x;
  this.y = position.y;
  this.value = value || 2;

  this.previousPosition = null;
  this.mergedFrom = null; // Tracks tiles that merged together
}

Tile.prototype.savePosition = function () {
  this.previousPosition = { x: this.x, y: this.y };
};

Tile.prototype.updatePosition = function (position) {
  this.x = position.x;
  this.y = position.y;
};

    </script>
    <script type="text/javascript">
        var gridheight = $('.grid-container').height();
        $('.gridControls').css('top',gridheight+40)
    </script>


    <script type="text/javascript">
var target_date = new Date().getTime() + (1000*3600*1); // set the countdown date
var days, hours, minutes, seconds; // variables for time units

var countdown = document.getElementById("countDown"); // get tag element

getCountdown();

setInterval(function () { getCountdown(); }, 1000);

function getCountdown(){

    // find the amount of "seconds" between now and target
    var current_date = new Date().getTime();
    var seconds_left = (target_date - current_date) / 1000;

    days = pad( parseInt(seconds_left / 86400) );
    seconds_left = seconds_left % 86400;
         
    hours = pad( parseInt(seconds_left / 3600) );
    seconds_left = seconds_left % 3600;
          
    minutes = pad( parseInt(seconds_left / 60) );
    seconds = pad( parseInt( seconds_left % 60 ) );

    // format countdown string + set tag value


    countdown.innerHTML = "<span>" + hours + "</span> : <span>" + minutes + "</span> : <span>" + seconds + "</span>"; 
}

function pad(n) {
    return (n < 10 ? '0' : '') + n;
}


      

    </script>
</body>
</html>